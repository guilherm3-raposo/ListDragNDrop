function ListDragNDropService(){var e,t,n=new MutationObserver(function(...e){v(),o.forEach(function(e){e.setAttribute("draggable",!0),e.removeEventListener("dragstart",c),e.addEventListener("dragstart",c)})}),a=null,i=null,r=null,o=[],s=null,d=null;function c(n){d=n.target,t=d.index,function(e){var t=new Image;t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",e.dataTransfer.setDragImage(t,0,0)}(n),e=d.getBoundingClientRect().height/2,function(t){(s=t.target.cloneNode(!0)).classList.add("clone"),s.style.top=t.target.pageY+e+"px",a.appendChild(s)}(n),l(n),d.classList.add("ghost"),d.addEventListener("drag",l),d.addEventListener("dragend",g),document.addEventListener("dragenter",u),document.addEventListener("dragover",A)}function l(t){i=a.getBoundingClientRect(),s.style.top=t.pageY-i.top-e+"px",s.getBoundingClientRect().top>i.bottom&&a.appendChild(d)}function u(e){e.target.parentElement!==a||e.target.classList.contains("ghost")||e.target.insertAdjacentElement("beforebegin",d)}function g(e){s.remove(),d.classList.remove("ghost"),d.classList.add("pulse"),setTimeout(function(){d.classList.remove("pulse")},2e3),function(){document.removeEventListener("dragenter",u),document.removeEventListener("dragover",A)}();var n,i,o,c,l,g,p,f,m,h,E=t;v(),E!=d.index&&(r&&(o=d.index,l=E,g=o,p=[],f=(c=r).splice(l,1),m=c.splice(0,g),h=c.splice(0,c.length),(p=(p=(p=p.concat(m)).concat(f)).concat(h)).forEach(function(e){c.push(e)})),n=a,i={newValue:d.index,oldValue:E},n.dispatchEvent(new CustomEvent("listupdated",{detail:i})))}function v(){(o=Array.from(a.children)).forEach(function(e,t){e.index=t})}function A(e){e.preventDefault(),e.stopPropagation()}this.registerElem=function(e,t){a=e,r=t,n.observe(a,p)};var p={childList:!0}}