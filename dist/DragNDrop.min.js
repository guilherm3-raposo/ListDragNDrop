function ListDragNDropService(){var e,n,t=new MutationObserver(function(...e){p(),s.forEach(function(e){e.setAttribute("draggable",!0),e.removeEventListener("dragstart",d),e.addEventListener("dragstart",d)})}),a=null,r=null,i=null,s=[],o=null,l=null;function d(t){l=t.target,n=l.index,function(e){var n=new Image;n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",e.dataTransfer.setDragImage(n,0,0)}(t),e=l.getBoundingClientRect().height/2,function(n){(o=n.target.cloneNode(!0)).classList.add("_clone"),o.style.top=n.target.pageY+e+"px",a.appendChild(o)}(t),c(t),l.classList.add("_ghost"),l.addEventListener("drag",c),l.addEventListener("dragend",u),document.addEventListener("dragenter",g),document.addEventListener("dragover",f)}function c(n){r=a.getBoundingClientRect(),o.style.top=n.pageY-r.top-e+"px",o.getBoundingClientRect().top>r.bottom&&a.appendChild(l)}function g(e){e.target.parentElement!==a||e.target.classList.contains("_ghost")||e.target.insertAdjacentElement("beforebegin",l)}function u(e){o.remove(),l.classList.remove("_ghost"),l.classList.add("_pulse"),setTimeout(function(){l.classList.remove("_pulse")},2e3),document.removeEventListener("dragenter",g),document.removeEventListener("dragover",f);var t,r,s,d,c,u,m,v,A,h,b=n;p(),b!=l.index&&(i&&(s=l.index,c=b,u=s,m=[],v=(d=i).splice(c,1),A=d.splice(0,u),h=d.splice(0,d.length),(m=(m=(m=m.concat(A)).concat(v)).concat(h)).forEach(function(e){d.push(e)})),t=a,r={newValue:l.index,oldValue:b},t.dispatchEvent(new CustomEvent("listupdated",{detail:r})))}function p(){(s=Array.from(a.children)).forEach(function(e,n){e.index=n})}function f(e){e.preventDefault(),e.stopPropagation()}this.registerElem=function(e,n){a=e,i=n,t.observe(a,m)};var m={childList:!0},v=document.createElement("style");v.id="_list_drag_style",document.head.prepend(v);v.innerHTML="\n    ._draggable_list {\n        position: relative;\n    }\n    \n    ._draggable_list_item {\n        cursor: grab;\n        cursor: -moz-grab;\n        cursor: -webkit-grab;\n    }\n    \n    ._ghost {\n        opacity: 0.5;\n        transform: scaleY(.8);\n        transition: .8s opacity ease;\n        transition-delay: .4s;\n    }\n    \n    ._clone {\n        position: absolute;\n        right: 0;\n        left: 0;\n        pointer-events: none;\n    }\n    \n    ._pulse {\n        animation: bg_pulse 1s ease forwards;\n    }\n    \n    @keyframes bg_pulse {\n        0% {\n            filter: brightness(1.2);\n        }\n        100% {\n            filter: brightness(1);\n        }\n    }"}